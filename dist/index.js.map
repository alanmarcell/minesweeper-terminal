{"version":3,"sources":["../dist-esnext/index.js"],"names":["readline","fieldConfig","width","height","bombs","battle","rl","createInterface","input","process","stdin","output","stdout","x","y","console","log","play","field","question","answer","a","m","message","isOver","winner","close","clickPosition","startBattle"],"mappings":";;;;;;;AAAA;;AACA;;IAAYA,Q;;AACZ;;;;AACA,IAAMC,cAAc;AAChBC,WAAO,CADS;AAEhBC,YAAQ,CAFQ;AAGhBC,WAAO;AAHS,CAApB;AAKA,IAAIC,SAAS,kCAAYJ,WAAZ,CAAb;AACA,IAAMK,KAAKN,SAASO,eAAT,CAAyB;AAChCC,WAAOC,QAAQC,KADiB;AAEhCC,YAAQF,QAAQG;AAFgB,CAAzB,CAAX;AAIA,IAAIC,UAAJ;AAAA,IAAOC,UAAP;AACAC,QAAQC,GAAR,CAAY,OAAZ;AACAC;AACA,SAASA,IAAT,GAAgB;AACZ,yBAASZ,OAAOa,KAAhB,EAAuB,EAAEL,IAAF,EAAKC,IAAL,EAAvB;AACAR,OAAGa,QAAH,CAAY,aAAZ,EAA2B,UAACC,MAAD,EAAY;AACnCL,gBAAQC,GAAR,CAAY,aAAZ,EAA2BI,MAA3B;AACAP,YAAI,CAACO,MAAD,GAAU,CAAd;AACAd,WAAGa,QAAH,CAAY,aAAZ,EAA2B,UAACE,CAAD,EAAO;AAC9Bf,eAAGa,QAAH,CAAY,8BAAZ,EAA4C,UAACG,CAAD,EAAO;AAC/CP,wBAAQC,GAAR,CAAY,aAAZ,EAA2BM,CAA3B;AACAR,oBAAI,CAACO,CAAD,GAAK,CAAT;AACAN,wBAAQC,GAAR,CAAY,OAAZ;AACAX,yBAASiB,MAAM,GAAN,GAAY,oCAAcjB,MAAd,EAAsB,EAAEQ,IAAF,EAAKC,IAAL,EAAtB,CAAZ,GAA8C,yCAAmBT,MAAnB,EAA2B,EAAEQ,IAAF,EAAKC,IAAL,EAA3B,CAAvD;AACAC,wBAAQC,GAAR,CAAY,OAAZ;AACA,oBAAIX,OAAOkB,OAAX,EACIR,QAAQC,GAAR,CAAYX,OAAOkB,OAAnB;AACJ,oBAAI,CAAClB,OAAOmB,MAAZ,EAAoB;AAChBP;AACH,iBAFD,MAGK;AACD,yCAASZ,OAAOa,KAAhB,EAAuB,EAAEL,IAAF,EAAKC,IAAL,EAAvB;AACA,wBAAIT,OAAOoB,MAAX,EACIV,QAAQC,GAAR,CAAY,aAAZ,EADJ,KAGID,QAAQC,GAAR,CAAY,cAAZ;AACJV,uBAAGoB,KAAH;AACH;AACJ,aAnBD;AAoBH,SArBD;AAsBH,KAzBD;AA0BH;QACQC,a;QAAeC,W;AACxB","file":"index.js","sourcesContent":["import { battleMarkPosition, clickPosition, startBattle } from 'minesweeper-core';\r\nimport * as readline from 'readline';\r\nimport { logField } from './Field';\r\nconst fieldConfig = {\r\n    width: 9,\r\n    height: 9,\r\n    bombs: 9\r\n};\r\nvar battle = startBattle(fieldConfig);\r\nconst rl = readline.createInterface({\r\n    input: process.stdin,\r\n    output: process.stdout\r\n});\r\nlet x, y;\r\nconsole.log('\\x1Bc');\r\nplay();\r\nfunction play() {\r\n    logField(battle.field, { x, y });\r\n    rl.question('Chose row: ', (answer) => {\r\n        console.log('you choose:', answer);\r\n        x = +answer - 1;\r\n        rl.question('Choose col ', (a) => {\r\n            rl.question('Choose mark (m) or open (o) ', (m) => {\r\n                console.log('you choose:', m);\r\n                y = +a - 1;\r\n                console.log('\\x1Bc');\r\n                battle = m === 'o' ? clickPosition(battle, { x, y }) : battleMarkPosition(battle, { x, y });\r\n                console.log('\\x1Bc');\r\n                if (battle.message)\r\n                    console.log(battle.message);\r\n                if (!battle.isOver) {\r\n                    play();\r\n                }\r\n                else {\r\n                    logField(battle.field, { x, y });\r\n                    if (battle.winner)\r\n                        console.log('YOU WIN! =D');\r\n                    else\r\n                        console.log('YOU LOSE! :(');\r\n                    rl.close();\r\n                }\r\n            });\r\n        });\r\n    });\r\n}\r\nexport { clickPosition, startBattle };\r\n//# sourceMappingURL=index.js.map"]}